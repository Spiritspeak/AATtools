<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Pre-processing rules — Preprocessing • AATtools</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Pre-processing rules — Preprocessing" />
<meta property="og:description" content="These are pre-processing rules that can be used in aat_splithalf, aat_bootstrap, and aat_compute.

The following rules are to be used for the trialdropfunc argument.
The way you handle outliers for the reliability computation and bootstrapping more broadly
should mimic the way you do it in your regular analyses.
It is recommended to exclude outlying trials when computing AAT scores using the mean double-dfference scores and regression scoring approaches,
but not when using d-scores or median double-difference scores.
prune_nothing excludes no trials (default)
trial_prune_3SD excludes trials deviating more than 3SD from the mean per participant.
trial_prune_SD_dropcases removes trials deviating more than a specific number of standard deviations from the participant's mean,
and removes participants with an excessive percentage of outliers.
Required arguments:
trialsd - trials deviating more than trialsd standard deviations from the participant's mean are excluded (optional; default is 3)
maxoutliers - participants with a higher percentage of outliers are removed from the data. (optional; default is .15)

trial_recode_SD recodes outlying reaction times to the nearest non-outlying value,
with outliers defined as reaction times deviating more than a certain number of standard deviations from the participant's mean. Required argument:
trialsd - trials deviating more than this many standard deviations from the mean are classified as outliers.

trial_prune_percent_subject and trial_prune_percent_sample remove trials below and/or above certain percentiles,
on a subject-by-subject basis or sample-wide, respectively. The following arguments are available:
lowerpercent and uppperpercent (optional; defaults are .01 and .99).


The following pre-procesing rules are to be used for the errortrialfunc argument.
They determine what is to be done with errors - remove or recode?

prune_nothing removes no errors (default).
error_replace_blockmeanplus replaces error trial reaction times with the block mean, plus an arbitrary extra quantity.
If used, the following additional arguments are required:
blockvar - Quoted name of the block variable (mandatory)
errorvar - Quoted name of the error variable, where errors are 1 or TRUE and correct trials are 0 or FALSE (mandatory)
errorbonus - Amount to add to the reaction time of error trials. Default is 0.6 (recommended by Greenwald, Nosek, &amp;amp; Banaji, 2003)

error_prune_dropcases removes errors and drops participants if they have more errors than a given percentage. The following arguments are available:
errorvar - Quoted name of the error variable, where errors are 1 or TRUE and correct trials are 0 or FALSE (mandatory)
maxerrors - participants with a higher percentage of errors are excluded from the dataset. Default is .15.


These are pre-processing rules to be used for the casedropfunc argument.
The way you handle outliers here should mimic the way you do it in your regular analyses.
prune_nothing excludes no participants (default)
case_prune_3SD excludes participants deviating more than 3SD from the sample mean.


" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">AATtools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/Spiritspeak/AATtools/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Pre-processing rules</h1>
    <small class="dont-index">Source: <a href='https://github.com/Spiritspeak/AATtools/blob/master/R/AATtools.R'><code>R/AATtools.R</code></a></small>
    <div class="hidden name"><code>Preprocessing.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These are pre-processing rules that can be used in <a href='aat_splithalf.html'>aat_splithalf</a>, <a href='aat_bootstrap.html'>aat_bootstrap</a>, and <a href='aat_compute.html'>aat_compute</a>.</p>
<ul>
<li><p>The following rules are to be used for the <code>trialdropfunc</code> argument.
The way you handle outliers for the reliability computation and bootstrapping more broadly
should mimic the way you do it in your regular analyses.
It is recommended to exclude outlying trials when computing AAT scores using the mean double-dfference scores and regression scoring approaches,
but not when using d-scores or median double-difference scores.</p><ul>
<li><p><code>prune_nothing</code> excludes no trials (default)</p></li>
<li><p><code>trial_prune_3SD</code> excludes trials deviating more than 3SD from the mean per participant.</p></li>
<li><p><code>trial_prune_SD_dropcases</code> removes trials deviating more than a specific number of standard deviations from the participant's mean,
and removes participants with an excessive percentage of outliers.
Required arguments:</p><ul>
<li><p><code>trialsd</code> - trials deviating more than <code>trialsd</code> standard deviations from the participant's mean are excluded (optional; default is 3)</p></li>
<li><p><code>maxoutliers</code> - participants with a higher percentage of outliers are removed from the data. (optional; default is .15)</p></li>
</ul></li>
<li><p><code>trial_recode_SD</code> recodes outlying reaction times to the nearest non-outlying value,
with outliers defined as reaction times deviating more than a certain number of standard deviations from the participant's mean. Required argument:</p><ul>
<li><p><code>trialsd</code> - trials deviating more than this many standard deviations from the mean are classified as outliers.</p></li>
</ul></li>
<li><p><code>trial_prune_percent_subject</code> and <code>trial_prune_percent_sample</code> remove trials below and/or above certain percentiles,
on a subject-by-subject basis or sample-wide, respectively. The following arguments are available:</p><ul>
<li><p><code>lowerpercent</code> and <code>uppperpercent</code> (optional; defaults are .01 and .99).</p></li>
</ul></li>
</ul></li>
<li><p>The following pre-procesing rules are to be used for the <code>errortrialfunc</code> argument.
They determine what is to be done with errors - remove or recode?</p>
<ul>
<li><p><code>prune_nothing</code> removes no errors (default).</p></li>
<li><p><code>error_replace_blockmeanplus</code> replaces error trial reaction times with the block mean, plus an arbitrary extra quantity.
If used, the following additional arguments are required:</p><ul>
<li><p><code>blockvar</code> - Quoted name of the block variable (mandatory)</p></li>
<li><p><code>errorvar</code> - Quoted name of the error variable, where errors are 1 or TRUE and correct trials are 0 or FALSE (mandatory)</p></li>
<li><p><code>errorbonus</code> - Amount to add to the reaction time of error trials. Default is 0.6 (recommended by <code>Greenwald, Nosek, &amp; Banaji, 2003</code>)</p></li>
</ul></li>
<li><p><code>error_prune_dropcases</code> removes errors and drops participants if they have more errors than a given percentage. The following arguments are available:</p><ul>
<li><p><code>errorvar</code> - Quoted name of the error variable, where errors are 1 or TRUE and correct trials are 0 or FALSE (mandatory)</p></li>
<li><p><code>maxerrors</code> - participants with a higher percentage of errors are excluded from the dataset. Default is .15.</p></li>
</ul></li>
</ul></li>
<li><p>These are pre-processing rules to be used for the <code>casedropfunc</code> argument.
The way you handle outliers here should mimic the way you do it in your regular analyses.</p><ul>
<li><p><code>prune_nothing</code> excludes no participants (default)</p></li>
<li><p><code>case_prune_3SD</code> excludes participants deviating more than 3SD from the sample mean.</p></li>
</ul></li>
</ul>

    </div>

    <pre class="usage"><span class='fu'>prune_nothing</span>(<span class='no'>ds</span>, <span class='no'>...</span>)

<span class='fu'>trial_prune_percent_subject</span>(
  <span class='no'>ds</span>,
  <span class='no'>subjvar</span>,
  <span class='no'>rtvar</span>,
  <span class='kw'>lowerpercent</span> <span class='kw'>=</span> <span class='fl'>0.01</span>,
  <span class='kw'>upperpercent</span> <span class='kw'>=</span> <span class='fl'>0.99</span>,
  <span class='no'>...</span>
)

<span class='fu'>trial_prune_percent_sample</span>(
  <span class='no'>ds</span>,
  <span class='no'>rtvar</span>,
  <span class='kw'>lowerpercent</span> <span class='kw'>=</span> <span class='fl'>0.01</span>,
  <span class='kw'>upperpercent</span> <span class='kw'>=</span> <span class='fl'>0.99</span>,
  <span class='no'>...</span>
)

<span class='fu'>trial_prune_3SD</span>(<span class='no'>ds</span>, <span class='no'>subjvar</span>, <span class='no'>rtvar</span>, <span class='no'>...</span>)

<span class='fu'>trial_prune_SD_dropcases</span>(
  <span class='no'>ds</span>,
  <span class='no'>subjvar</span>,
  <span class='no'>rtvar</span>,
  <span class='kw'>trialsd</span> <span class='kw'>=</span> <span class='fl'>3</span>,
  <span class='kw'>maxoutliers</span> <span class='kw'>=</span> <span class='fl'>0.15</span>,
  <span class='no'>...</span>
)

<span class='fu'>trial_recode_SD</span>(<span class='no'>ds</span>, <span class='no'>subjvar</span>, <span class='no'>rtvar</span>, <span class='kw'>trialsd</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='no'>...</span>)

<span class='fu'>case_prune_3SD</span>(<span class='no'>ds</span>, <span class='no'>...</span>)

<span class='fu'>error_replace_blockmeanplus</span>(
  <span class='no'>ds</span>,
  <span class='no'>subjvar</span>,
  <span class='no'>rtvar</span>,
  <span class='no'>blockvar</span>,
  <span class='no'>errorvar</span>,
  <span class='no'>errorbonus</span>,
  <span class='no'>...</span>
)

<span class='fu'>error_prune_dropcases</span>(<span class='no'>ds</span>, <span class='no'>subjvar</span>, <span class='no'>errorvar</span>, <span class='kw'>maxerrors</span> <span class='kw'>=</span> <span class='fl'>0.15</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>ds</th>
      <td><p>A data.frame.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Other arguments (ignored).</p></td>
    </tr>
    <tr>
      <th>subjvar</th>
      <td><p>The name of the subject variable.</p></td>
    </tr>
    <tr>
      <th>rtvar</th>
      <td><p>The name of the reaction time variable.</p></td>
    </tr>
    <tr>
      <th>lowerpercent, upperpercent</th>
      <td><p>for <code>trial_prune_percent_subject</code> and <code>trial_prune_percent_sample</code>,
the lower and upper proportions beyond which trials are considered outliers and removed (defaults to .01 and .99).</p></td>
    </tr>
    <tr>
      <th>trialsd</th>
      <td><p>The amount of deviation from the participant mean (in SD) after which a trial is considered an outlier and excluded (defaults to 3).</p></td>
    </tr>
    <tr>
      <th>maxoutliers</th>
      <td><p>for <code>trial_prune_SD_dropcases</code>, the maximum percentage of outliers, after which a participant is excluded from the data.</p></td>
    </tr>
    <tr>
      <th>blockvar</th>
      <td><p>The name of the block variable.</p></td>
    </tr>
    <tr>
      <th>errorvar</th>
      <td><p>The name of the error variable.</p></td>
    </tr>
    <tr>
      <th>errorbonus</th>
      <td><p>for <code>error_replace_blockmeanplus</code>, the amount of seconds to add to the block mean
and use as a replacement for error trial reaction times (default is 0.6).</p></td>
    </tr>
    <tr>
      <th>maxerrors</th>
      <td><p>for <code>error_prune_dropcases</code>, the maximum percentage of errors, after which a participant is excluded from the data.</p></td>
    </tr>
    </table>


  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Sercan Kahveci.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


