<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Compute bootstrapped approach-bias scores — aat_bootstrap • AATtools</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Compute bootstrapped approach-bias scores — aat_bootstrap"><meta property="og:description" content="Compute bootstrapped approach-bias scores with confidence intervals."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">AATtools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/Spiritspeak/AATtools/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute bootstrapped approach-bias scores</h1>
    <small class="dont-index">Source: <a href="https://github.com/Spiritspeak/AATtools/blob/HEAD/R/aat_bootstrap.R" class="external-link"><code>R/aat_bootstrap.R</code></a></small>
    <div class="hidden name"><code>aat_bootstrap.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Compute bootstrapped approach-bias scores with confidence intervals.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">aat_bootstrap</span><span class="op">(</span>
  <span class="va">ds</span>,
  <span class="va">subjvar</span>,
  <span class="va">pullvar</span>,
  targetvar <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">rtvar</span>,
  <span class="va">iters</span>,
  algorithm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"aat_doublemeandiff"</span>, <span class="st">"aat_doublemediandiff"</span>, <span class="st">"aat_dscore"</span>,
    <span class="st">"aat_dscore_multiblock"</span>, <span class="st">"aat_regression"</span>, <span class="st">"aat_standardregression"</span>,
    <span class="st">"aat_singlemeandiff"</span>, <span class="st">"aat_singlemediandiff"</span><span class="op">)</span>,
  trialdropfunc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"prune_nothing"</span>, <span class="st">"trial_prune_3SD"</span>, <span class="st">"trial_prune_3MAD"</span>,
    <span class="st">"trial_prune_SD_dropcases"</span>, <span class="st">"trial_recode_SD"</span>, <span class="st">"trial_prune_percent_subject"</span>,
    <span class="st">"trial_prune_percent_sample"</span>, <span class="st">"trial_prune_grubbs"</span><span class="op">)</span>,
  errortrialfunc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"prune_nothing"</span>, <span class="st">"error_replace_blockmeanplus"</span>,
    <span class="st">"error_prune_dropcases"</span><span class="op">)</span>,
  plot <span class="op">=</span> <span class="cn">TRUE</span>,
  include.raw <span class="op">=</span> <span class="cn">FALSE</span>,
  parallel <span class="op">=</span> <span class="cn">TRUE</span>,
  <span class="va">...</span>
<span class="op">)</span>

<span class="co"># S3 method for aat_bootstrap</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S3 method for aat_bootstrap</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>ds</dt>
<dd><p>a longformat data.frame</p></dd>
<dt>subjvar</dt>
<dd><p>Quoted name of the participant identifier column</p></dd>
<dt>pullvar</dt>
<dd><p>Quoted name of the column indicating pull trials.
Pull trials should either be represented by 1, or by the second level of a factor.</p></dd>
<dt>targetvar</dt>
<dd><p>Name of the column indicating trials featuring the target stimulus.
Target stimuli should either be represented by 1, or by the second level of a factor.</p></dd>
<dt>rtvar</dt>
<dd><p>Name of the reaction time column.</p></dd>
<dt>iters</dt>
<dd><p>Total number of desired iterations. At least 200 are required to get confidence intervals that make sense.</p></dd>
<dt>algorithm</dt>
<dd><p>Function (without brackets or quotes) to be used to compute AAT scores. See <a href="Algorithms.html">Algorithms</a> for a list of usable algorithms.</p></dd>
<dt>trialdropfunc</dt>
<dd><p>Function (without brackets or quotes) to be used to exclude outlying trials in each half.
The way you handle outliers for the reliability computation should mimic the way you do it in your regular analyses.
It is recommended to exclude outlying trials when computing AAT scores using the mean double-dfference scores and regression scoring approaches,
but not when using d-scores or median double-difference scores.</p><ul><li><p><code>prune_nothing</code> excludes no trials (default)</p></li>
<li><p><code>trial_prune_grubbs</code> applies a Grubbs' test to the data, removing one outlier at a time until the test is no longer significant.</p></li>
<li><p><code>trial_prune_3SD</code> excludes trials deviating more than 3SD from the mean per participant.</p></li>
<li><p><code>trial_prune_SD_dropcases</code> removes trials deviating more than a specific number of standard deviations from the participant's mean,
and removes participants with an excessive percentage of outliers.
Required arguments:</p><ul><li><p><code>trialsd</code> - trials deviating more than <code>trialsd</code> standard deviations from the participant's mean are excluded (optional; default is 3)</p></li>
<li><p><code>maxoutliers</code> - participants with a higher percentage of outliers are removed from the data. (optional; default is .15)</p></li>
</ul></li>
<li><p><code>trial_recode_SD</code> recodes outlying reaction times to the nearest non-outlying value,
with outliers defined as reaction times deviating more than a certain number of standard deviations from the participant's mean. Required argument:</p><ul><li><p><code>trialsd</code> - trials deviating more than this many standard deviations from the mean are classified as outliers.</p></li>
</ul></li>
<li><p><code>trial_prune_percent_subject</code> and <code>trial_prune_percent_sample</code> remove trials below and/or above certain percentiles,
on a subject-by-subject basis or sample-wide, respectively. The following arguments are available:</p><ul><li><p><code>lowerpercent</code> and <code>uppperpercent</code> (optional; defaults are .01 and .99).</p></li>
</ul></li>
</ul></dd>
<dt>errortrialfunc</dt>
<dd><p>Function (without brackets or quotes) to apply to an error trial.</p>
<ul><li><p><code>prune_nothing</code> removes no errors (default).</p></li>
<li><p><code>error_replace_blockmeanplus</code> replaces error trial reaction times with the block mean, plus an arbitrary extra quantity.
If used, the following additional arguments are required:</p><ul><li><p><code>blockvar</code> - Quoted name of the block variable (mandatory)</p></li>
<li><p><code>errorvar</code> - Quoted name of the error variable, where errors are 1 or TRUE and correct trials are 0 or FALSE (mandatory)</p></li>
<li><p><code>errorbonus</code> - Amount to add to the reaction time of error trials. Default is 0.6 (recommended by <code>Greenwald, Nosek, &amp; Banaji, 2003</code>)</p></li>
</ul></li>
<li><p><code>error_prune_dropcases</code> removes errors and drops participants if they have more errors than a given percentage. The following arguments are available:</p><ul><li><p><code>errorvar</code> - Quoted name of the error variable, where errors are 1 or TRUE and correct trials are 0 or FALSE (mandatory)</p></li>
<li><p><code>maxerrors</code> - participants with a higher percentage of errors are excluded from the dataset. Default is .15.</p></li>
</ul></li>
</ul></dd>
<dt>plot</dt>
<dd><p>Plot the bias scores and their confidence intervals after computation is complete. This gives a good overview of the data.</p></dd>
<dt>include.raw</dt>
<dd><p>logical indicating whether raw split-half data should be included in the output object.</p></dd>
<dt>parallel</dt>
<dd><p>If TRUE (default), will use parallel computing to compute results faster.
If a doParallel backend has not been registered beforehand,
this function will register a cluster and stop it after finishing, which takes some extra time.</p></dd>
<dt>...</dt>
<dd><p>Other arguments, to be passed on to the algorithm or outlier rejection functions (see arguments above)</p></dd>
<dt>x</dt>
<dd><p>An <code>aat_bootstrap</code> object.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list, containing bootstrapped bias scores, their variance, bootstrapped 95 percent confidence intervals,
the number of iterations, and a matrix of bias scores for each iteration.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Sercan Kahveci</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># Compute 10 bootstrapped AAT scores.</span></span>
<span class="r-in"><span class="va">boot</span><span class="op">&lt;-</span><span class="fu">aat_bootstrap</span><span class="op">(</span>ds<span class="op">=</span><span class="va">erotica</span><span class="op">[</span><span class="va">erotica</span><span class="op">$</span><span class="va">is_irrelevant</span><span class="op">==</span><span class="fl">0</span>,<span class="op">]</span>, subjvar<span class="op">=</span><span class="st">"subject"</span>,</span>
<span class="r-in">                    pullvar<span class="op">=</span><span class="st">"is_pull"</span>, targetvar<span class="op">=</span><span class="st">"is_target"</span>,rtvar<span class="op">=</span><span class="st">"RT"</span>,</span>
<span class="r-in">                    iters<span class="op">=</span><span class="fl">10</span>,algorithm<span class="op">=</span><span class="st">"aat_doublemediandiff"</span>,</span>
<span class="r-in">                    trialdropfunc<span class="op">=</span><span class="st">"trial_prune_3SD"</span>,</span>
<span class="r-in">                    plot<span class="op">=</span><span class="cn">FALSE</span>, parallel<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Attaching package: 'dplyr'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following objects are masked from 'package:stats':</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     filter, lag</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following objects are masked from 'package:base':</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     intersect, setdiff, setequal, union</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">boot</span><span class="op">)</span></span>
<span class="r-plt img"><img src="aat_bootstrap-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">boot</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bootstrapped bias scores and confidence intervals</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mean bias score: 12.83276</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mean confidence interval: 137.5039</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> reliability: q = 0.3342284</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of iterations: 10</span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Sercan Kahveci.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

